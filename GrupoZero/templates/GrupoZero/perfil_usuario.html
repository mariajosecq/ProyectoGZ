{% extends 'GrupoZero/base.html' %}
{% load static %}

{% block title%} perfil_usuario {% endblock %}

{% block content %}



<br>
<br>
<br>
<br>
<br>
<br>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-3">

            {% load custom_tags %}

            <!--Foto de perfil-->
            <div class="d-flex foto-perfil justify-content-center align-items-center">
                {% if user.is_authenticated %}
                <img src="{% obtener_img_perfil user %}" alt="Perfil Usuario Redonda" class="img-redonda">
                {% else %}
                <img src="" alt="Perfil Usuario Redonda" class="img-redonda">
                {% endif %}
            </div>
        </div>
        <div class="col-md-7">

            <!--Cuadro de texto de Datos Personales-->
            <div class="d-flex align-items-start caja-texto">
                <div class="col-md-8">
                    <div class="margen-parrafo">
                        <h3 class="fuente-titulo-blanco">DATOS PERSONALES</h3>
                        <br>

                        <p class="fuente-parrafo-blanco">
                            {% if user.is_authenticated %}
                            <b>NOMBRE:</b><span class="espacio-parrafo"></span> {{ user.get_full_name }}<br>
                            <b>CORREO:</b><span class="espacio-parrafo"></span> {{ user.email }}<br>
                            <b>DESCRIPCIÓN:</b><span class="espacio-parrafo"></span>
                            {% obtener_descripcion_perfil user %}
                            {% else %}
                            <b>NOMBRE:</b><span class="espacio-parrafo"></span> <br>
                            <b>CORREO:</b><span class="espacio-parrafo"></span> <br>
                            <b>DESCRIPCIÓN:</b><span class="espacio-parrafo"></span> No hay descripción disponible.
                            {% endif %}
                        </p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="margen-parrafo" style="text-align: right">

                        <!--Botón Editar Perfil-->
                        <button type="button" class="fuente-parrafo-blanco boton-editar" data-bs-toggle="modal"
                            data-bs-target="#ModalEditarPerfil">
                            <b>Editar perfil</b>
                        </button>

                        <!--Modal formulario para editar información del perfil-->
                        <form method="POST" action="{% url 'editar_perfil' %}" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="modal" tabindex="-1" id="ModalEditarPerfil" style="text-align: left">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header fuente-titulo-blanco">
                                            <h5 class="modal-title">EDITAR PERFIL</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body fuente-titulo-negro">
                                            <div class="mb-3">
                                                <label for="FormControlNombre" class="form-label">Nombre</label>
                                                <textarea class="form-control fuente-parrafo-negro"
                                                    id="FormControlNombre" name="nombre"
                                                    placeholder="{{ user.get_full_name }}" rows="1"></textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="email">Correo:</label>
                                                <input type="email" id="email" name="email"
                                                    placeholder="{{ user.email }}"
                                                    class="form-control fuente-parrafo-negro">
                                            </div>
                                            <div class="mb-3">
                                                <label for="password">Contraseña:</label>
                                                <input type="password" id="password" name="password"
                                                    placeholder="Nueva contraseña"
                                                    class="form-control fuente-parrafo-negro">
                                            </div>
                                            <div class="mb-3">
                                                <label for="descripcion">Descripción:</label>
                                                <textarea id="descripcion" name="descr" placeholder="Nueva descripción"
                                                    class="form-control fuente-parrafo-negro" rows="4"></textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="imagen">Imagen de perfil:</label>
                                                <input type="file" id="imagen" name="imagen"
                                                    class="form-control fuente-parrafo-negro">
                                            </div>
                                            <button type="submit" class="btn btn-primary">Guardar cambios</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<div class="col-md-1"></div>
</div>
<div class="row" style="height: 100px;">
    <div class="col-md-4"></div>
    <div class="col-md-7">
        <div class="d-flex fuente-titulo-negro">

            <!--Botón Mis Obras-->
            <button type="button" class="boton-perfil distancia-botones" data-bs-toggle="modal"
                data-bs-target="#ModalMisObras">
                <b>MIS OBRAS</b>
            </button>

            <!--Modal tabla Mis Obras-->
            <div class="modal" tabindex="-1" id="ModalMisObras">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header fuente-titulo-blanco">
                            <h5 class="modal-title">MIS OBRAS</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="table-responsive">
                                <table class="table fuente-parrafo-negro">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Fecha Publicación</th>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Imagen</th>
                                            <th scope="col">Descripción</th>
                                            <th scope="col">Precio (CLP)</th>
                                            <th scope="col">Categoría</th>
                                            <th scope="col">Estado</th>
                                            <th scope="col">Descripción Estado</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row">5</th>
                                            <td>05/01/2024</td>
                                            <td>Hojas de Otoño</td>
                                            <td>hojasDeOtono.jpeg</td>
                                            <td>Lienzo de 40x40cm, óleo</td>
                                            <td>$175.000</td>
                                            <td>Pintura</td>
                                            <td>Pendiente</td>
                                            <td>Esperando revisión</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">4</th>
                                            <td>17/09/2023</td>
                                            <td>Flores de Verano</td>
                                            <td>floresDeVerano.jpeg</td>
                                            <td>Lienzo de 30x40cm, óleo</td>
                                            <td>$145.000</td>
                                            <td>Pintura</td>
                                            <td>Aprobado</td>
                                            <td>-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">3</th>
                                            <td>14/07/2023</td>
                                            <td>Pensador</td>
                                            <td>pensador.jpeg</td>
                                            <td>30 cm de altura, acero</td>
                                            <td>$100.000</td>
                                            <td>Escultura</td>
                                            <td>Aprobado</td>
                                            <td>-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>30/11/2021</td>
                                            <td>Camino</td>
                                            <td>camino.jpeg</td>
                                            <td>Lienzo de 50x50cm</td>
                                            <td>$95.000</td>
                                            <td>Pintura</td>
                                            <td>Aprobado</td>
                                            <td>-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>26/11/2021</td>
                                            <td>Camino</td>
                                            <td>camino.jpeg</td>
                                            <td>Lienzo de 50x50cm</td>
                                            <td>$95.000</td>
                                            <td>Pintura</td>
                                            <td>Rechazado</td>
                                            <td>Imagen de baja calidad</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--Botón Nueva Obra-->
            <button type="button" class="boton-perfil" data-bs-toggle="modal" data-bs-target="#ModalNuevaObra">
                <b>NUEVA OBRA</b>
            </button>

            <!--Modal formulario para publicar una Nueva Obra-->
            <div class="modal" tabindex="-1" id="ModalNuevaObra">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header fuente-titulo-blanco">
                            <h5 class="modal-title">NUEVA OBRA</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label for="FormControlNombre" class="form-label">Nombre</label>
                                <textarea class="form-control" id="FormControlNombre" rows="1"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="formFileSm" class="form-label ">Imagen</label>
                                <input class="form-control form-control-sm fuente-parrafo-negro" id="formFileSm"
                                    type="file">
                            </div>
                            <div class="mb-3">
                                <label for="menuDesplegable">Categoría</label>
                                <select id="menuDesplegable" name="menuDesplegable"
                                    class="fuente-parrafo-negro espacio-parrafo">
                                    <option value="opcion1">Pintura</option>
                                    <option value="opcion2">Escultura</option>
                                    <option value="opcion3">Tejido</option>
                                    <option value="opcion4">Orfebrería</option>
                                    <option value="opcion4">Otros</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label for="FormControlNombre" class="form-label">Descripción</label>
                                <textarea class="form-control  fuente-parrafo-negro" id="FormControlNombre" rows="10"
                                    placeholder="Ingrese una descripción."></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="FormControlPrecio" class="form-label">Precio</label>
                                <input type="number" class="form-control fuente-parrafo-negro" id="FormControlPrecio"
                                    placeholder="999.999" min="0" step="1">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                            <button type="button" class="btn boton-modal">Enviar solicitud</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-1"></div>
</div>
</div>


{% endblock %}